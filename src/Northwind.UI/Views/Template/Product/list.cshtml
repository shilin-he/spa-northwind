<div class="page-header">
    <h3>Product Search</h3>
</div>
@*Use a div instead of a form to avoid form submit when clicking a button*@
<div class="form-inline" role="form">
    <div class="form-group">
        <label for="product-name" class="sr-only">Product Name</label>
        <input type="text" id="product-name" placeholder="Product Name" class="form-control input-sm" data-bind="value: productName" />
    </div>
    <div class="form-group">
        <label for="ddlCategory">Category:</label>
        <input id="ddlCategory" 
               data-role="dropdownlist" 
               data-option-label="All Categories" 
               data-auto-bind="false"
               data-bind="source: categories, value: selectedCategory" 
               data-text-field="categoryName" 
               data-value-field="categoryId" />
    </div>
    <div class="form-group">
        <label for="ddlSupplier">Supplier:</label>
        <input id="ddlSupplier" 
               data-role="dropdownlist" 
               data-option-label="All Suppliers" 
               data-auto-bind="false"
               data-bind="source: suppliers, value: selectedSupplier" 
               data-text-field="companyName" 
               data-value-field="supplierId" />
    </div>
    <button type="button" class="btn btn-sm btn-primary" data-bind="click: search">Search...</button>
    <button type="button" class="btn btn-sm btn-default" data-bind="click: showAllProducts">Show All Products</button>
    <a href="#/product/create" class="btn btn-info btn-sm pull-right">Create New Product</a>
</div>
<div id="grid"
     data-role="grid"
     data-bind="source: productDataSource"
     data-columns='[
        { field: "productName", title: "Product Name", template: "<a href=\"\\#/product/view/#= productId #\">#= productName #</a>", "width": "300px" },
        { field: "categoryName", title: "Category", width: 200, template: "<a href=\"\\#/category/view/#= categoryId #\">#= categoryName #</a>" },
        { field: "supplierCompanyName", title: "Supplier", width: 300, template: "<a href=\"\\#/supplier/view/#= supplierId #\">#= supplierCompanyName #</a>" },
        { field: "unitPrice", title: "Unit Pirce", format: "{0:c}", width: 100 }, 
        { field: "unitsInStock", title: "Unit in Stock", width: 100 }, 
        { field: "discontinued", title: "Discontinued", template: "<input type=\"checkbox\" disabled #if (!!discontinued) {# checked #}#" }
    ]'
    data-pageable="{ buttonCount: 5, refresh: true }"
    data-selectable="false"
    data-scrollable="true"
    data-reorderable="true"
    data-resizable="true"
    data-sortable="true">
</div>